class QuizApp{constructor(){this.currentCategory=null,this.questions=[],this.currentQuestionIndex=0,this.score=0,this.correctAnswers=0,this.questionHistory=[],this.selectedAnswers={},this.confirmedAnswers=new Set,this.portalUrl="/",this.init()}init(){try{this.cacheElements(),this.attachEventListeners(),this.validateQuestionsDatabase()}catch(t){this.handleError("–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",t)}}cacheElements(){this.welcomeScreen=this.getElement("welcome-screen"),this.categoryInfoScreen=this.getElement("category-info-screen"),this.quizScreen=this.getElement("quiz-screen"),this.resultsScreen=this.getElement("results-screen"),this.categoryInfoIcon=this.getElement("category-info-icon"),this.categoryInfoTitle=this.getElement("category-info-title"),this.categoryInfoDescription=this.getElement("category-info-description"),this.categoryInfoQuestions=this.getElement("category-info-questions"),this.categoryInfoAge=this.getElement("category-info-age"),this.categoryInfoBack=this.getElement("category-info-back"),this.categoryInfoStart=this.getElement("category-info-start"),this.questionText=this.getElement("question-text"),this.questionImageContainer=this.getElement("question-image-container"),this.answersContainer=this.getElement("answers-container"),this.currentQuestionSpan=this.getElement("current-question"),this.totalQuestionsSpan=this.getElement("total-questions"),this.progressFill=this.getElement("progress-fill"),this.nextBtn=this.getElement("next-btn"),this.backBtn=this.getElement("back-btn"),this.resultsIcon=this.getElement("results-icon"),this.resultsTitle=this.getElement("results-title"),this.finalScoreSpan=this.getElement("final-score"),this.correctCountSpan=this.getElement("correct-count"),this.incorrectCountSpan=this.getElement("incorrect-count"),this.resultsMessage=this.getElement("results-message"),this.percentageSpan=this.getElement("percentage"),this.resultsQuestionsList=this.getElement("results-questions-list"),this.exitBtn=this.getElement("exit-btn"),this.exitModal=this.getElement("exit-modal"),this.exitConfirm=this.getElement("exit-confirm"),this.exitCancel=this.getElement("exit-cancel")}getElement(t){let e=document.getElementById(t);return e||console.warn(`–≠–ª–µ–º–µ–Ω—Ç —Å ID "${t}" –Ω–µ –Ω–∞–π–¥–µ–Ω`),e}validateQuestionsDatabase(){if("undefined"==typeof questionsDatabase)throw Error("–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞");Object.keys(questionsDatabase).forEach(t=>{let e=questionsDatabase[t];if(!Array.isArray(e)){console.warn(`–ö–∞—Ç–µ–≥–æ—Ä–∏—è "${t}" –∏–º–µ–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç`);return}e.forEach((e,s)=>{e.question&&Array.isArray(e.answers)&&"number"==typeof e.correct||console.warn(`–í–æ–ø—Ä–æ—Å ${s+1} –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "${t}" –∏–º–µ–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç`)})})}attachEventListeners(){this.exitBtn&&this.exitBtn.addEventListener("click",()=>this.handleExitClick()),document.querySelectorAll(".category-btn").forEach(t=>{t.addEventListener("click",t=>{let e=t.currentTarget.dataset.category;e&&this.showCategoryInfo(e)})}),this.categoryInfoBack&&this.categoryInfoBack.addEventListener("click",()=>{this.showScreen(this.welcomeScreen)}),this.categoryInfoStart&&this.categoryInfoStart.addEventListener("click",()=>{this.selectedCategory&&this.startQuiz(this.selectedCategory)}),this.backBtn&&this.backBtn.addEventListener("click",()=>this.goBack()),this.nextBtn&&this.nextBtn.addEventListener("click",()=>this.nextQuestion());let t=this.getElement("play-again-btn");t&&t.addEventListener("click",()=>{this.startQuiz(this.currentCategory)});let e=this.getElement("change-category-btn");e&&e.addEventListener("click",()=>{this.showScreen(this.welcomeScreen)}),this.exitConfirm&&this.exitConfirm.addEventListener("click",()=>{this.returnToWelcomeScreen()}),this.exitCancel&&this.exitCancel.addEventListener("click",()=>{this.hideExitModal()}),this.exitModal&&this.exitModal.addEventListener("click",t=>{t.target===this.exitModal&&this.hideExitModal()})}getCategoryData(t){return({cinema:{title:"–ö–∏–Ω–æ –Ω–∞ –±–æ—Ä—Ç—É",icon:"\uD83C\uDFAC",age:"12+",questions:10,description:"–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –æ —Ñ–∏–ª—å–º–∞—Ö –∏ –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–µ. –í–æ–ø—Ä–æ—Å—ã –æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–∏–Ω–∞—Ö."},literature:{title:"–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞",icon:"\uD83D\uDCDA",age:"12+",questions:10,description:"–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –º–∏—Ä–æ–≤–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ—é –Ω–∞—á–∏—Ç–∞–Ω–Ω–æ—Å—Ç—å!"},school:{title:"–®–∫–æ–ª–∞",icon:"\uD83C\uDFEB",age:"6+",questions:10,description:"–í–æ–ø—Ä–æ—Å—ã –∏–∑ —à–∫–æ–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ —Ä–∞–∑–Ω—ã–º –ø—Ä–µ–¥–º–µ—Ç–∞–º. –í—Å–ø–æ–º–Ω–∏—Ç–µ —à–∫–æ–ª—å–Ω—ã–µ –≥–æ–¥—ã!"},ecology:{title:"–≠–∫–æ–ª–æ–≥–∏—è",icon:"\uD83C\uDF31",age:"12+",questions:10,description:"–û–∫—Ä—É–∂–∞—é—â–∞—è —Å—Ä–µ–¥–∞, –ø—Ä–∏—Ä–æ–¥–∞ –∏ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã. –ù–∞—Å–∫–æ–ª—å–∫–æ –≤—ã —ç–∫–æ—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã?"},cartoons:{title:"–ú—É–ª—å—Ç—Ñ–∏–ª—å–º—ã",icon:"\uD83D\uDC2D",age:"6+",questions:10,description:"–õ—é–±–∏–º—ã–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ –∏ —Å—é–∂–µ—Ç—ã –∏–∑ –º—É–ª—å—Ç—Ñ–∏–ª—å–º–æ–≤. –û—Ç–ª–∏—á–Ω–∞—è –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞ –¥–ª—è –≤—Å–µ–π —Å–µ–º—å–∏!"},art:{title:"–ò—Å–∫—É—Å—Å—Ç–≤–æ",icon:"\uD83C\uDFA8",age:"12+",questions:10,description:"–ñ–∏–≤–æ–ø–∏—Å—å, —Å–∫—É–ª—å–ø—Ç—É—Ä–∞ –∏ –¥—Ä—É–≥–∏–µ –≤–∏–¥—ã –∏—Å–∫—É—Å—Å—Ç–≤–∞. –î–ª—è –Ω–∞—Å—Ç–æ—è—â–∏—Ö —Ü–µ–Ω–∏—Ç–µ–ª–µ–π –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–≥–æ!"},geography:{title:"–ì–µ–æ–≥—Ä–∞—Ñ–∏—è",icon:"\uD83C\uDF0D",age:"12+",questions:10,description:"–ì–æ—Ä—ã, —Ä–µ–∫–∏, —Å—Ç–æ–ª–∏—Ü—ã –∏ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è –º–∏—Ä –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –æ –ø–ª–∞–Ω–µ—Ç–µ –ó–µ–º–ª—è!"},sport:{title:"–°–ø–æ—Ä—Ç",icon:"‚öΩ",age:"12+",questions:10,description:"–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–µ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω—ã, –∑–Ω–∞–º–µ–Ω–∏—Ç—ã–µ –º–∞—Ç—á–∏ –∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫—Ç–æ –∑–¥–µ—Å—å –Ω–∞—Å—Ç–æ—è—â–∏–π —á–µ–º–ø–∏–æ–Ω!"},music:{title:"–ú—É–∑—ã–∫–∞",icon:"\uD83C\uDFB5",age:"12+",questions:10,description:"–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —Ö–∏—Ç—ã, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç—Ä–µ–∫–∏ –∏ –≤–µ–ª–∏–∫–∏–µ –∫–æ–º–ø–æ–∑–∏—Ç–æ—Ä—ã. –£–∑–Ω–∞–π—Ç–µ, –Ω–∞—Å–∫–æ–ª—å–∫–æ –±–æ–≥–∞—Ç–∞ –≤–∞—à–∞ –º—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è!"},theater:{title:"–¢–µ–∞—Ç—Ä",icon:"\uD83C\uDFAD",age:"12+",questions:10,description:"–í–µ–ª–∏–∫–∏–µ –ø—å–µ—Å—ã, –∏–∑–≤–µ—Å—Ç–Ω—ã–µ —Ä–µ–∂–∏—Å—Å–µ—Ä—ã –∏ —Ç–µ–∞—Ç—Ä–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–¥–∏—Ü–∏–∏. –ì–æ—Ç–æ–≤—ã –ª–∏ –≤—ã –∫ –∞–ø–ª–æ–¥–∏—Å–º–µ–Ω—Ç–∞–º –∑–∞ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è?"}})[t]||null}showCategoryInfo(t){try{let e=this.getCategoryData(t);if(!e)throw Error(`–ö–∞—Ç–µ–≥–æ—Ä–∏—è "${t}" –Ω–µ –Ω–∞–π–¥–µ–Ω–∞`);this.safeSetText(this.categoryInfoIcon,e.icon),this.safeSetText(this.categoryInfoTitle,e.title),this.safeSetText(this.categoryInfoDescription,e.description),this.safeSetText(this.categoryInfoQuestions,e.questions),this.safeSetText(this.categoryInfoAge,e.age),this.selectedCategory=t,this.showScreen(this.categoryInfoScreen)}catch(s){this.handleError("–û—à–∏–±–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",s)}}handleExitClick(){this.welcomeScreen&&this.welcomeScreen.classList.contains("active")?this.exitToPortal():this.showExitModal()}showExitModal(){this.exitModal&&this.exitModal.classList.add("active")}hideExitModal(){this.exitModal&&this.exitModal.classList.remove("active")}returnToWelcomeScreen(){this.hideExitModal(),this.showScreen(this.welcomeScreen),this.resetQuiz(),this.resetResultsScroll()}exitToPortal(){window.location.href=this.portalUrl}resetQuiz(){this.currentCategory=null,this.questions=[],this.currentQuestionIndex=0,this.score=0,this.correctAnswers=0,this.questionHistory=[],this.selectedAnswers={},this.confirmedAnswers=new Set}startQuiz(t){try{if(!questionsDatabase[t])throw Error(`–í–æ–ø—Ä–æ—Å—ã –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "${t}" –Ω–µ –Ω–∞–π–¥–µ–Ω—ã`);this.currentCategory=t,this.questions=[...questionsDatabase[t]],this.currentQuestionIndex=0,this.score=0,this.correctAnswers=0,this.questionHistory=[],this.selectedAnswers={},this.confirmedAnswers=new Set,this.safeSetText(this.totalQuestionsSpan,this.questions.length),this.showScreen(this.quizScreen),this.loadQuestion()}catch(e){this.handleError("–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã",e)}}loadQuestion(){try{let t=this.questions[this.currentQuestionIndex];if(!t)throw Error("–í–æ–ø—Ä–æ—Å –Ω–µ –Ω–∞–π–¥–µ–Ω");this.safeSetText(this.currentQuestionSpan,this.currentQuestionIndex+1);let e=(this.currentQuestionIndex+1)/this.questions.length*100;this.progressFill&&(this.progressFill.style.width=e+"%",this.progressFill.parentElement.setAttribute("aria-valuenow",Math.round(e))),this.loadQuestionImage(t.image),this.safeSetText(this.questionText,t.question),this.createAnswerButtons(t.answers);let s=this.selectedAnswers[this.currentQuestionIndex],i=this.confirmedAnswers.has(this.currentQuestionIndex);void 0!==s?this.restoreAnswerState(s,i):this.disableNextButton(),this.updateBackButton()}catch(n){this.handleError("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–æ–ø—Ä–æ—Å–∞",n)}}loadQuestionImage(t){if(this.questionImageContainer&&(this.questionImageContainer.innerHTML="",t)){let e=document.createElement("div");e.className="question-image-wrapper";let s=document.createElement("div");s.className="question-image-placeholder",s.innerHTML='<div class="placeholder-spinner"></div>';let i=document.createElement("img");i.className="question-image",i.alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞",i.loading="lazy",i.style.opacity="0",i.onload=()=>{setTimeout(()=>{i.style.opacity="1",s.style.opacity="0",setTimeout(()=>{s.remove()},300)},100)},i.onerror=()=>{console.warn(`–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: ${t}`),s.innerHTML='<div class="placeholder-error">\uD83D\uDCF7</div>'},e.appendChild(s),e.appendChild(i),this.questionImageContainer.appendChild(e),i.src=t}}createAnswerButtons(t){if(this.answersContainer){if(this.answersContainer.innerHTML="",!Array.isArray(t)){console.warn("–û—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–∞—Å—Å–∏–≤–æ–º");return}t.forEach((t,e)=>{let s=document.createElement("button");s.className="answer-btn",s.dataset.index=e,s.setAttribute("role","button"),s.setAttribute("aria-label",`–û—Ç–≤–µ—Ç ${e+1}`),s.textContent=this.sanitizeText(t),s.addEventListener("click",()=>this.selectAnswer(e)),this.answersContainer.appendChild(s)})}}restoreAnswerState(t,e){try{let s=this.answersContainer.querySelectorAll(".answer-btn");s.forEach(t=>{t.classList.remove("selected"),e?t.classList.add("disabled"):t.classList.remove("disabled")}),void 0!==t&&s[t].classList.add("selected"),this.enableNextButton()}catch(i){this.handleError("–û—à–∏–±–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ—Ç–≤–µ—Ç–∞",i)}}selectAnswer(t){try{if(this.confirmedAnswers.has(this.currentQuestionIndex))return;let e=this.answersContainer.querySelectorAll(".answer-btn");this.selectedAnswers[this.currentQuestionIndex]=t,e.forEach(t=>{t.classList.remove("selected")}),e[t].classList.add("selected"),setTimeout(()=>{this.enableNextButton()},300)}catch(s){this.handleError("–û—à–∏–±–∫–∞ –≤—ã–±–æ—Ä–∞ –æ—Ç–≤–µ—Ç–∞",s)}}nextQuestion(){try{this.confirmedAnswers.add(this.currentQuestionIndex),this.questionHistory.push(this.currentQuestionIndex),this.currentQuestionIndex++,this.currentQuestionIndex<this.questions.length?this.loadQuestion():this.showResults()}catch(t){this.handleError("–û—à–∏–±–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É",t)}}goBack(){this.questionHistory.length>0?(this.currentQuestionIndex=this.questionHistory.pop(),this.loadQuestion()):this.showExitModal()}updateBackButton(){this.backBtn&&(0===this.questionHistory.length?this.backBtn.style.opacity="0.5":this.backBtn.style.opacity="1")}enableNextButton(){this.nextBtn&&(this.nextBtn.classList.add("active"),this.nextBtn.disabled=!1)}disableNextButton(){this.nextBtn&&(this.nextBtn.classList.remove("active"),this.nextBtn.disabled=!0)}showResults(){try{this.correctAnswers=0,this.score=0,this.questions.forEach((t,e)=>{let s=this.selectedAnswers[e];s===t.correct&&(this.correctAnswers++,this.score+=10)});let t=Math.round(this.correctAnswers/this.questions.length*100),e=this.questions.length-this.correctAnswers;this.safeSetText(this.finalScoreSpan,this.score),this.safeSetText(this.correctCountSpan,this.correctAnswers),this.safeSetText(this.incorrectCountSpan,e),this.safeSetText(this.percentageSpan,t+"%"),this.setResultsContent(t),this.createQuestionsList(),this.resetResultsScroll(),this.showScreen(this.resultsScreen)}catch(s){this.handleError("–û—à–∏–±–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤",s)}}resetResultsScroll(){try{this.resultsQuestionsList&&(this.resultsQuestionsList.scrollTop=0,requestAnimationFrame(()=>{this.resultsQuestionsList.scrollTop=0}))}catch(t){console.warn("–û—à–∏–±–∫–∞ —Å–±—Ä–æ—Å–∞ —Å–∫—Ä–æ–ª–ª–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:",t)}}setResultsContent(t){let e,s,i;t>=90?(e="\uD83C\uDFC6",s="–ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ!",i="–í—ã –Ω–∞—Å—Ç–æ—è—â–∏–π —ç–∫—Å–ø–µ—Ä—Ç! –§–∞–Ω—Ç–∞—Å—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –í–∞—à–∏ –∑–Ω–∞–Ω–∏—è –≤–ø–µ—á–∞—Ç–ª—è—é—Ç!"):t>=70?(e="\uD83C\uDF1F",s="–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞!",i="–í—ã –ø–æ–∫–∞–∑–∞–ª–∏ –æ—Ç–ª–∏—á–Ω—ã–µ –∑–Ω–∞–Ω–∏—è! –¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å! –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!"):t>=50?(e="\uD83D\uDC4D",s="–•–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!",i="–û—Ç–ª–∏—á–Ω–æ–µ –Ω–∞—á–∞–ª–æ! –£ –í–∞—Å –µ—Å—Ç—å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª! –ï—â—ë –Ω–µ–º–Ω–æ–≥–æ –ø—Ä–∞–∫—Ç–∏–∫–∏ ‚Äî –∏ –≤—ã —Å—Ç–∞–Ω–µ—Ç–µ –Ω–∞—Å—Ç–æ—è—â–∏–º —ç–∫—Å–ø–µ—Ä—Ç–æ–º!"):(e="\uD83D\uDCAA",s="–ï—Å—Ç—å –∫ —á–µ–º—É —Å—Ç—Ä–µ–º–∏—Ç—å—Å—è!",i="–ö–∞–∂–¥–∞—è –í–∞—à–∞ –ø–æ–ø—ã—Ç–∫–∞ ‚Äî —ç—Ç–æ –Ω–æ–≤—ã–π –æ–ø—ã—Ç. –ù–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ—Å—å –Ω–∞ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ–º ‚Äî –≤–ø–µ—Ä–µ–¥–∏ –µ—â—ë —Å—Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–∫—Ä—ã—Ç–∏–π!"),this.safeSetText(this.resultsIcon,e),this.safeSetText(this.resultsTitle,s),this.safeSetText(this.resultsMessage,i)}createQuestionsList(){this.resultsQuestionsList&&(this.resultsQuestionsList.innerHTML="",this.resetResultsScroll(),this.questions.forEach((t,e)=>{let s=this.selectedAnswers[e],i=s===t.correct,n=void 0!==s?t.answers[s]:"–ù–µ –æ—Ç–≤–µ—Ç–∏–ª",r=t.answers[t.correct],a=document.createElement("div");a.className=`results-question-item ${i?"correct":"incorrect"}`;let o=document.createElement("div");o.className="question-header",o.innerHTML=`
                <span class="question-number">–í–æ–ø—Ä–æ—Å ${e+1}</span>
                <span class="question-status ${i?"correct":"incorrect"}">
                    ${i?"‚úì –ü—Ä–∞–≤–∏–ª—å–Ω–æ":"‚úó –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ"}
                </span>
            `;let c=document.createElement("div");c.className="question-text",c.textContent=this.sanitizeText(t.question);let h=document.createElement("div");h.className="answers-container";let l=document.createElement("div");if(l.className="answer-row user-answer",l.innerHTML=`
                <span class="answer-label">–í–∞—à –æ—Ç–≤–µ—Ç:</span>
                <span class="answer-value">${this.sanitizeText(n)}</span>
            `,h.appendChild(l),!i){let u=document.createElement("div");u.className="answer-row correct-answer",u.innerHTML=`
                    <span class="answer-label">–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç:</span>
                    <span class="answer-value">${this.sanitizeText(r)}</span>
                `,h.appendChild(u)}if(t.explanation){let d=document.createElement("div");d.className="explanation-row",d.innerHTML=`
                    <span class="explanation-icon">üí°</span>
                    <span class="explanation-text">${this.sanitizeText(t.explanation)}</span>
                `,h.appendChild(d)}a.appendChild(o),a.appendChild(c),a.appendChild(h),this.resultsQuestionsList.appendChild(a)}),setTimeout(()=>{this.resetResultsScroll()},100))}showScreen(t){if(t)try{document.querySelectorAll(".screen").forEach(t=>t.classList.remove("active")),t.classList.add("active"),window.scrollTo({top:0,behavior:"smooth"}),t!==this.resultsScreen&&this.resetResultsScroll()}catch(e){this.handleError("–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞",e)}}safeSetText(t,e){t&&(t.textContent=String(e))}sanitizeText(t){return"string"!=typeof t?"":t.replace(/[<>]/g,"")}handleError(t,e){console.error(t,e)}}document.addEventListener("DOMContentLoaded",()=>{try{new QuizApp}catch(t){console.error("–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:",t)}});